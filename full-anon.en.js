'use strict';(function(g){function f(){}function e(b,d){if(h)return d.indexOf(b);for(var a=d.length;a--;)if(d[a]===b)return a;return-1}var b=f.prototype,d=[],h=d.indexOf?!0:!1;b.getListeners=function(b){var d=this._events||(this._events={});return d[b]||(d[b]=[])};b.addListener=function(b,d){var a=this.getListeners(b);-1===e(d,a)&&a.push(d);return this};b.removeListener=function(b,d){var a=this.getListeners(b),c=e(d,a);-1!==c&&(a.splice(c,1),0===a.length&&(this._events[b]=null));return this};b.addListeners=
function(b,d){return this.manipulateListeners(!1,b,d)};b.removeListeners=function(b,d){return this.manipulateListeners(!0,b,d)};b.manipulateListeners=function(b,d,a){var c,i,j=b?this.removeListener:this.addListener,b=b?this.removeListeners:this.addListeners;if("object"===typeof d)for(c in d){if(d.hasOwnProperty(c)&&(i=d[c]))"function"===typeof i?j.call(this,c,i):b.call(this,c,i)}else for(c=a.length;c--;)j.call(this,d,a[c]);return this};b.removeEvent=function(b){b?this._events[b]=null:this._events=
null;return this};b.emitEvent=function(b,e){for(var a=this.getListeners(b),c=a.length;c--;)!0===a[c].apply(null,e||d)&&this.removeListener(b,a[c]);return this};"function"===typeof define&&define.amd?define(function(){return f}):g.EventEmitter=f})(this);
StackExchange.realtime=function(){function g(){if(!(null==n||1!=n.readyState))for(var a=0,c=q.length;a<c;a++)f("sending: "+q[a]),n.send(q[a])}function f(a){StackExchange.options.user.isEmployee&&console.log(a)}function e(){t.addListener("hb",function(a){n.send(a)})}function b(a){q.push(a);g()}function d(a,c){1!=$("#vote-accepted-"+a.answerid).length&&($(".vote-accepted-on").remove(),c||$('.vote input[value="'+a.answerid+'"]').parent().append($("<span>",{"class":"vote-accepted-on",title:"The question owner accepted this as the best answer",
text:"accepted"})))}function h(a){if(0==$("#comment-"+a.commentid).length){var c=$("#comments-link-"+a.id),a=$("tbody","#comments-"+a.id),b=a.data("remaining-comments-count")||0,d=!(c.data("anon")||c.data("reg"));b++;c.data("comments-count",b);c.attr("title","expand to show all comments on this post, or add one of your own");var j=function(a){return 1==a.commentsCount?"add / show <b>"+a.commentsCount+"</b> more comment":"add / show <b>"+a.commentsCount+"</b> more comments"}({commentsCount:b}),e=function(a){return 1==
a.commentsCount?"show <b>"+a.commentsCount+"</b> more comment":"show <b>"+a.commentsCount+"</b> more comments"}({commentsCount:b});c.removeClass("disabled-link");a.data("remaining-comments-count",b);d?c.html(j):c.html(e);c.show().fadeTo("fast",0.7).fadeTo("fast",1)}}function l(){$.ajax({type:"POST",url:"/review/suggested-edit-count",data:{fkey:StackExchange.options.user.fkey},dataType:"json",success:function(a){if(a&&a.count){var a=a.count,c=$(".suggested-edits-count");c.text()!=a&&(0==$(":animated").length&&
c.fadeTo("fast",0.5).fadeTo("fast",1),c.text(a))}}})}function k(){$("#new-answer-activity").remove();$("#answers-header").prepend(y)}function a(a){var c=$(".question[data-questionid="+a.id+"], .answer[data-answerid="+a.id+"]"),b=$('<div class="new-post-activity" data-postid="'+a.id+'">an edit has been made to this post; click to load</div>');0<c.find(".new-post-activity[data-postid="+a.id+"]").length||c.prepend(b.click(function(){$(".new-post-activity[data-postid="+a.id+"]").remove();0==$("#review-content").length&&
$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({postIdsSemiColonDelimited:a.id}),z(c.find(".postcell, .answercell"),a));$(document).trigger("refreshEdit",a.id)}))}function c(a,c,b){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(a.body)||(a.fetch&&$.ajax({url:"/posts/"+a.id+"/"+b}).done(function(c){a.body=c;r[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid}}),r[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),
siteid:a.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(A),0<$(".tag-sponsorship").length&&$("#question-mini-list, #questions").css("margin-top","0px"),c&&j())}function i(a,c){return a.index<c.index?-1:a.index>c.index?1:0}function j(){var a=[],c;for(c in r)r.hasOwnProperty(c)&&a.push(r[c]);a=a.sort(i);for(c=0;c<a.length;c++){var b=a[c];$("#question-summary-"+b.id).remove();$(b.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}o(0);null!=StackExchange.options.user.accountId&&
StackExchange.tagPreferences.applyPrefs(!0,u);styleCode();p();$(".new-post-activity").remove();r={}}function o(a){var c=document.title.replace(/^\(\d*\*?\) /,"");0<a&&(c="("+a+") "+c);window.setTimeout(function(){$(document).attr("title",c)},200)}function p(){for(var a=$("span.relativetime, span.relativetime-clean"),c=0;c<a.length;c++)if(a[c].title){var b;b=a[c].title;if(null==b||20!=b.length)b=void 0;else{b=b.substr(0,10)+"T"+b.substr(11,10);b=new Date(b);b=((new Date).getTime()-b.getTime())/1E3+
StackExchange.options.serverTimeOffsetSec;var d=Math.floor(b/86400),j=void 0;if(isNaN(d)||0>d||31<=d)j=void 0;else if(j=void 0,j=0==d){d=void 0;if(!(d=2>b&&"just now"))if(d=void 0,!(d=60>b&&(v?Math.floor(b)+"s ago":Math.floor(b)+" secs ago")))if(d=void 0,!(d=120>b&&(v?"1m ago":"1 min ago")))if(d=void 0,!(d=3600>b&&(v?Math.floor(b/60)+"m ago":Math.floor(b/60)+" mins ago")))if(d=void 0,!(d=7200>b&&(v?"1h ago":"1 hour ago")))if(d=void 0,d=86400>b)d=void 0,v?d=Math.floor(b/3600)+"h ago":(b={hours:Math.floor(b/
3600)},d=1==b.hours?b.hours+" hour ago":b.hours+" hours ago");j=d}b=j}b&&(a[c].innerHTML=b)}}var n,r={},m=[],s=0,q=[],w=10,x=!1,v=!1,u,t=new EventEmitter,y=function(){var a=Object.keys(m).length;0==a&&$("#new-answer-activity").remove();return $('<div id="new-answer-activity">'+function(a){return 1==a.count?a.count+" new answer to this question":a.count+" new answers to this question"}({count:a})+"</div>").click(function(){StackExchange.realtime.expandAnswers()})},z=function(a,c){return function(b){var d=
$(b).filter(".question, .answer"),j=d.find(".postcell, .answercell"),e=a.closest(".question"),i=0<e.length,f=$("h1 a.question-hyperlink"),h=d.data("title"),s=i&&$.trim(f.text())!=h,k=$(".question-status"),g=function(a,c){return function(){return $.Deferred(function(b){null==c||c()?a.animate({opacity:0},150).promise().done(function(){b.resolve()}):b.resolve()})}},d=g(f,function(){return s}),m=g(a),g=g(k);$.when(d(),m(),g()).done(function(){s&&f.text(h).animate({opacity:1},150);var c=function(a,c){return new $.Deferred(function(b){c.css({opacity:0});
a.replaceWith(c);c.animate({opacity:1},150,function(){b.resolve()})})};c(a,j).done(function(){styleCode();StackExchange.question.bindSuggestedEditPopupLinks();i&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init()});var d=$(b).filter(".question-status");d.length?(k.length||(k=$("<div>").addClass("question-status").insertAfter(e)),c(k,d)):k.remove()});window.history.pushState(c,"new post","#"+c.id)}},A=function(){var a=Object.keys(r).length;o(a);return $('<div class="new-post-activity">'+
function(a){return 1==a.count?a.count+" question with new activity":a.count+" questions with new activity"}({count:a})+"</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{init:function(a){var c=a.split(","),c=c[s%c.length];null!=c&&0!=c.indexOf("ws://")&&0!=c.indexOf("wss://")&&(c=("https:"===document.location.protocol?"wss://":"ws://")+c);if("WebSocket"in window||"MozWebSocket"in window){if(n)try{f("closing WebSocket"),n.close()}catch(b){}n||(f("opening WebSocket to: "+
c),n="WebSocket"in window?new WebSocket(c):new MozWebSocket(c),n.onopen=function(){x||(x=!0);s=0;f("WebSocket opened");g();e();setInterval(p,6E4)},n.onmessage=function(a){a=$.parseJSON(a.data);t.emitEvent(a.action,[a.data])},n.onclose=function(){n=null;f("WebSocket closed");5>s&&0<w&&(s++,w--,f("reconnect attempt:"+s+" max retries:"+w),setTimeout(function(){StackExchange.realtime.init(a)},1E3*((new Date).getTime()%50/20)))},n.onerror=function(){f("WebSocket failed");n=null})}},expandActiveQuestions:j,
expandAnswers:function(){$("#tabs").show();$("#new-answer-activity").remove();var a=$("#answers #answers-header"),c=a.find(".answers-subheader h2"),b=parseInt(c.text())+m.length;isNaN(b)&&(b=m.length);c.text(function(a){return 1==a.answerCount?a.answerCount+" Answer":a.answerCount+" Answers"}({answerCount:b}));$.ajax({url:"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({postIdsSemiColonDelimited:m.join(";")})}).done(function(c){var b=$('<div class="dno" />').append(c);b.insertAfter(a).fadeIn(400,
function(){b.removeClass("dno");styleCode();StackExchange.vote.init($(".question").data("questionid"));b.find(".answer").each(function(){StackExchange.comments.init({post:$(this)})})})});StackExchange.question.bindSuggestedEditPopupLinks();p();m=[]},subscribeToActiveQuestions:function(a,d,j,e,i,f,h){a=a+"-"+d;u=j;v=f;b(a);t.addListener(a,function(a){a=$.parseJSON(a);if(null!=i)for(var b=0;b<i.length;b++)if(-1==$.inArray(i[b],a.tags))return;c(a,e,d);null!=h&&h(a)})},subscribeToInboxNotifications:function(){if(null!=
StackExchange.options.user.accountId){var a=StackExchange.options.user.accountId+"-inbox";b(a);t.addListener(a,function(a){$(".unreadCount").remove();var c=$("<a>",{"class":"unreadCount",title:"unread messages in your inbox",text:a}).insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:c.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(a)})}},subscribeToQuestion:function(c,j){var e=c+"-question-"+j;b(e);t.addListener(e,function(c){c=$.parseJSON(c);if(c.acctid!=StackExchange.options.user.accountId)switch(c.a){case "score":var b=
$('.vote input[value="'+c.id+'"]').siblings(".vote-count-post");b.text()!=c.score&&(b.text(c.score),0==$(":animated").length&&b.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":h(c);break;case "answer-add":0==$("#answer-"+c.answerid).length&&(m.push(c.answerid),StackExchange.cardiologist&&(StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(k,5E3).trigger():k(),StackExchange.cardiologist.notifiedOfNewAnswer()));
break;case "accept":d(c);break;case "unaccept":d(c,!0);break;case "post-edit":a(c)}})},unsubscribeToQuestion:function(a,c){var b=a+"-question-"+c;f("unsubscribing: "+b);var d=$.inArray(b,q);-1!=d&&(q.splice(d,1),null==n||1!=n.readyState||n.send("-"+b))},subscribeToReputationNotifications:function(a){null!=StackExchange.options.user.accountId&&(a=a+"-"+StackExchange.options.user.userId+"-reputation",b(a),t.addListener(a,function(a){var c=$("#hlinks .reputation-score, .links-container .reputation");
c.text()!=a.score&&(0==$(":animated").length&&c.fadeTo("fast",0.8).fadeTo("fast",1),c.text(a))}))},subscribeToSuggestedEdits:function(a){a+="-suggested-edits-count-update";b(a);t.addListener(a,function(){l()})},updateRelativeDates:p,subscribeToReviewDashboard:function(a){a+="-review-dashboard-update";b(a);t.addListener(a,function(a){var a=$.parseJSON(a),c=$('.dashboard-activity[data-review-task="'+a.i+'"]');0==c.find('.dashboard-user[data-user="'+a.u+'"]').length&&(c.find(".dashboard-user:nth-child(6)").remove(),
c.children().css({left:"-44px"}),c.prepend(a.html).children().animate({left:0}))})},subscribeToTopBarNotifications:function(){if(null!=StackExchange.options.user.accountId){var a=StackExchange.options.user.accountId+"-topbar";b(a);t.addListener(a,function(a){if(a&&(a=JSON.parse(a)))null!=a.NetworkInbox&&$(".topbar-icon.icon-inbox .unread-count").toggle(0<a.NetworkInbox).text(a.NetworkInbox),null!=a.NetworkRep&&$(".topbar-icon.icon-achievements .unread-count").toggle(0<a.NetworkRep).text(0<a.NetworkRep?
"+"+a.NetworkRep:""),null!=a.NetworkAchievements&&$(".topbar-icon.icon-achievements").toggleClass("icon-achievements-unread",0<a.NetworkAchievements)})}}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(g){if(gauth.enabled()){var f=document.domain;"meta."==f.substr(0,5)&&(f=f.substr(4,f.length-4));var e=$.cookie("gauth");if(null==e)$.cookie("gauth",null,{path:"/",domain:f}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=f.charAt(0)&&(f="."+f);$.cookie("gauth",null,{path:"/",domain:f});$.cookie("gauth",null,{path:"/",domain:document.domain});var b=e.indexOf(":"),f=e.substr(0,b),e=e.substr(b+1),d=g+"/auth/global/write?authToken="+
encodeURIComponent(f)+"&nonce="+encodeURIComponent(e);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+d+"'></iframe>")})}}},checkStackAuth:function(g){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var f=function(e){if(e.origin==g)if("No Local Storage"==e.data)gauth.noGAuthStorage();else if("No Session"==e.data)gauth.noGAuthSession();else{var b=e.data.substr(0,e.data.indexOf(",")),e=e.data.substr(e.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:b,nonce:e},function(b){gauth.globallyAuthed(b)},"json")}};window.attachEvent?window.attachEvent("onmessage",f):window.addEventListener("message",f,!1);$.post("/users/login/global/request","",function(e){var b=g+"/auth/global/read?request="+encodeURIComponent(e.token)+"&nonce="+encodeURIComponent(e.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+b+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(g){if(g&&g.Message){var g=g.Message+" ",f,e=!1,b=""+window.location,d=b.indexOf("returnurl=");if(-1!=d){var h=b.indexOf("&",d);-1==h&&(h=b.length);f=decodeURIComponent(b.substring(d+10,h));f=/^(?:http:\/\/|\/)/.test(f)?f.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=b.indexOf("/users/login")&&
(e=!0,f=f||"/");StackExchange.helpers.showFancyOverlay({message:e?g+"<br>You are being redirected...":g+(f?'<a href="'+("javascript:window.location='"+f+"'")+'">Click here</a> to return to your last location.':'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!e,complete:function(){e&&(window.location=f)}})}}}}(),genuwine=function(){var g,f="",e,b,d=[],h=function(){return $(".genu").hasClass("genu-on")},l=function(){var j=$(".genu"),i=$("#seWrapper");if(0==
i.length||0<e||b){a();var i=$("#seWrapper"),f;0<e?(f=$("#seTabInbox"),r(f)):b?(f=$("#seTabNotices"),c(f)):(f=$("#seTabHot"),o(f));f.addClass("seCurrent")}if(f=j.hasClass("genu-on")){$(".unreadCountTab").remove();$("#portalLink .itemBoxNew").removeClass("itemBoxNew");i.fadeOut("fast");for(i=0;i<d.length;i++)d[i]();d=[];0<b&&$("#portalLink .unreadCount").text(""+b).addClass("newNotices").show().click(l)}else i.fadeIn("fast"),$("#portalLink .unreadCount").hide();j.toggleClass("genu-on",!f);-1==e&&$(j).ready(function(){$("#seTabInbox").hide()});
k($("#seTabInbox"),$("#seTabNotices"))},k=function(a,c){StackExchange.options.site.isNoticesTabEnabled&&b&&0==c.find(".unreadCountTab").length&&c.prepend('<span class="unreadCountTab newNotices">'+b+"</span>");0<e&&0==a.find(".unreadCountTab").length&&a.prepend('<span class="unreadCountTab">'+e+"</span>")},a=function(){$("#seWrapper").remove();var a='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+f+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+
(!StackExchange.options.user.isAnonymous?'<li><a id="seTabInbox">Inbox</a></li>':"")+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter"><a id="seClose">close</a></div></div>',b=$("#hlinks"),b=b.height()+b.offset().top+5;$(a).appendTo("#portalLink").css({top:b}).find("ul.seNavLinks a").click(function(){var a=$(this);$(".seNavLinks a").removeClass("seCurrent");
a.addClass("seCurrent");switch(a.attr("id")){case "seTabHot":o(a);$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&j(a);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":r(a);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();$("#seContainerInbox").fadeIn("fast");
break;case "seTabNotices":c(a),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").click(function(){l()})},c=function(a){0==$("#seContainerNotices").length&&w(a,"/notices/genuwine","json",i,!0)},i=function(a,c){for(var j='<div id="seContainerNotices" style="display:none">',i=0;i<c.length;i++){var e=c[i],f=e.text,h=e.is_unread,s=e.site_url,g=e.icon,m=e.hasOwnProperty("type")?' data-type="'+e.type.toString()+'"':
"";null!=e.switch_type&&(m=m+' data-sw-type="'+e.switch_type.toString()+'" data-sw-site="'+e.site_id.toString()+'"');j+='<div class="noticeBox'+(h?" itemBoxNew":"")+'"'+m+'><a href="'+s+'" class="siteLinkFavicon"><img src="'+g+'"></a><div class="siteInfo"><p>'+f+"</p></div></div>"}x(a,j+"</div>","notifications_popup.click");d.push(function(){b=0;k($("#seTabInbox"),$("#seTabNotices"))});b=0},j=function(a){w(a,f+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",
n)},o=function(a){0==$("#seContainerHot").length&&w(a,f+"/genuwine?callback=?","jsonp",p)},p=function(a,c){for(var b=$("<div/>"),d='<div id="seContainerHot" style="display:none">',j=0;j<c.length;j++)var e=c[j],i=e.SiteId,f='href="http://'+i+"/q/"+e.Id+'?hq=1"',h=parseInt(e.DisplayScore,10),s=e.Sid,d=d+('<div class="itemBox"'+(null==s?"":' data-sw-type="2" data-sw-site="'+s.toString()+'"')+"><a "+f+' class="seNumAnswer">'+h+'</a><div class="siteInfo"><p><a '+f+">"+b.text(e.Title).html()+'</a></p><a href="http://'+
i+'" class="siteLink">'+i+"</a></div></div>");x(a,d+"</div>")},j=function(a){w(a,f+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",n)},n=function(a,c){for(var b='<div id="seContainerSites" style="display:none">',d=0;d<c.length;d++)var j=c[d],e=j.Name,i='href="http://'+j.Id+'?as=1"',f=j.Sid,b=b+('<div class="itemBox"'+(null==f?"":' data-sw-type="3" data-sw-site="'+f.toString()+'"')+"><a "+i+' class="siteFavicon"><img src="'+j.FaviconUrl+'" alt="'+e+'"></a><div class="siteInfo"><p><a '+
i+">"+e+"</a></p><a "+i+' class="siteLink">'+j.Description+"</a></div></div>");x(a,b+"</div>")},r=function(a){-1!=e&&(0==$("#seContainerInbox").length||0<e)&&m(a)},m=function(a){w(a,"/inbox/genuwine","json",s,!0)},s=function(a,c){for(var b='<div id="seContainerInbox" style="display:none">',j=0;j<c.length;j++){var i=c[j],f='href="'+i.Url+'"',h='title="'+i.CreationDate+'"',s=i.Count,m=i.IsNew?" itemBoxNew":"",q=i.hasOwnProperty("ItemType")?' data-type="'+i.ItemType.toString()+'"':"";null!=i.SiteId&&
(q=q+' data-sw-type="7" data-sw-site="'+i.SiteId.toString()+'"');b+='<div class="itemBox'+m+'"'+q+"><a "+f+' class="siteLinkFavicon"><img src="'+i.FaviconUrl+'" alt="'+i.SiteUrl+'"></a><div class="siteInfo">';"careers message"==i.Type?b+="<p><a "+f+' style="font-weight:normal"><b>'+i.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":"invitation"==i.Type?(h=i.Count,b+="<p><a "+f+' style="font-weight:normal"><b>'+h+"</b> "+("invitation"+(1<h?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):
b+="<p>"+(1<s?s+" ":"")+i.Type+" on <a "+f+" "+h+">"+i.Title+"</a></p>";b+='<p class="inboxSummary">'+(i.Summary||"")+"</p></div></div>"}g&&5<=c.length&&(b+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+g+'?tab=inbox">more inbox messages &hellip;</a></div></div>');x(a,b+"</div>","inbox_popup.click");d.push(function(){e=0;k($("#seTabInbox"),$("#seTabNotices"))});e=0},q={},w=function(a,c,b,d,i){var j=a.attr("id");if(q[j])v();else{q[j]=!0;v();var e=function(){q[j]=
!1;StackExchange.helpers.showErrorMessage($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:c,dataType:b,success:function(c){q[j]=!1;c&&(0<c.length||i)?d(a,c):e()},error:e,complete:function(){$("#seWrapper .seContainer").removeSpinner()}})}},x=function(a,c,b){c=$(c);c.prependTo("#seWrapper .seContainer");c.find(".itemBox a, .noticeBox a").click(function(){var a=$(this).closest(".itemBox, .noticeBox");b&&b.length&&StackExchange.gps.track(b,
{item_type:a.data("type")});var c=a.data("sw-type"),a=a.data("sw-site");null!=c&&null!=a&&StackExchange.gps.track("site.switch",{item_type:c,target_site:a})});a.hasClass("seCurrent")&&c.fadeIn("fast")},v=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner("#seWrapper .seContainer",{position:"relative",left:"10px",top:"10px"})},u=function(){var a=$("#portalLink .unreadCount"),c=a.css("margin-top");a.css({marginTop:-20,opacity:0}).show().animate({marginTop:c,opacity:1},
2E3)},t=function(){var a=$("#portalLink .unreadCount"),c=a.data("events");(!c||!c.click)&&0<a.length&&a.click(l)};return{isVisible:h,click:l,setUnreadCount:function(a){e=a;var c=$("#seTabInbox");0<a?($("#portalLink .unreadCount").text(e),c.hasClass("seCurrent")&&h()&&m(c),u()):$("#portalLink .unreadCount").text("").hide();$("#portalLink .unreadCount").removeClass("newNotices");t()},animateInbox:u,init:function(a,c,d){var i=$(".genu");1<=i.length&&(i[0].onclick=null);g=a;f=i.attr("href");e=c;b=d;!(0<
e)&&StackExchange.options.site.isNoticesTabEnabled&&(99<b&&(b=99),0<b&&$("#portalLink .unreadCount").text(""+b).addClass("newNotices"),t());i.removeAttr("href").click(l);t();$(document).click(function(a){h()&&!$.contains($("#portalLink")[0],a.target)&&l()})}}}(),topbar=function(){function g(){var a;a:{for(a=0;a<n.length;a++){var c=m[n[a]];if(c&&c.is(":visible")){a=!0;break a}}a=!1}a&&(f(!1),k("inbox",!1),e(!1),h(!1),l(!1))}function f(a){m.siteSwitcherButton.data("child-content-url")&&(m.siteSwitcherPreload=
$(".js-topbar-dialog-corral .siteSwitcher-dialog"));k("siteSwitcher",a,function(a){a.find("#js-site-filter-txt").typeWatch({highlight:!1,wait:100,captureLength:-1,callback:o})})}function e(a){k("achievements",a,function(a){b(a);d(a);p()})}function b(a){var a=a.find(".js-items .js-faux-column"),c=0;a.filter(".js-rep-change").each(function(){var a=$.trim($(this).text()).length;a>c&&(c=a)});0<c&&a.width(6*c)}function d(a){a.find(".js-date-group-toggle").click(function(){var a=$(this),c=a.closest(".js-date-group"),
b=c.find(".js-items"),c=c.find(".rep-site-container");a.find(".date-group-toggle").toggleClass("toggle-hidden");b.add(c).fadeToggle("fast")})}function h(a){k("modInbox",a,function(){var a=m.modInboxButton,c="";a&&(c=a.data("unread-class"))&&a.toggleClass(c)})}function l(a){null==m.help&&(m.help=$(".js-help-dialog").appendTo(m.corral),i(m.helpButton,m.help));k("help",a)}function k(b,d,e){var f=m[b],h=m[b+"Preload"],g=m[b+"Button"],o=r[b],p=null!=o;if(g){if(!1===d){if(p){a(!1,g,null,o);return}if(null==
f)return}"boolean"!=typeof d&&(d=p?!o.is(":visible"):null==f||!f.is(":visible"));if(null!=f)a(d,g,f,null);else if(p)a(d,g,null,o);else if(h){var p=g.data("child-content-url"),l=h.find(".child-content"),f=m[b]=h;i(g,f);a(!0,g,f,null);$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(l);j(p).done(function(a){l.html(a);e&&e(f)})}else o=r[b]=c(b).appendTo(m.corral),i(g,o),a(!0,g,null,o),h=g.data("url")||"/topbar/"+b,j(h).done(function(c){f=m[b]=$(c).appendTo(m.corral);e&&e(f);d=o.is(":visible");
i(g,f);a(d,g,f,null)}).always(function(){o.remove();r[b]=null});if(!0===d)for(h=0;h<n.length;h++)p=n[h],p!=b&&k(p,!1)}}function a(a,c,b,d){c.toggleClass("topbar-icon-on "+(c.data("on-class")||""),a);if(!a){var i=c.find(".unread-count");0!=i.length&&i.fadeOut("fast");(i=c.data("unread-class"))&&c.toggleClass(i,!1);b.find(".unread-item").removeClass("unread-item")}b&&b.toggle(a);d&&d.toggle(a)}function c(a){var c=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();return $(['<div class="topbar-dialog ',
a,'-dialog dno"><div class="header">',c,'</div><div class="modal-content"/></div>'].join(""))}function i(a,c){var b=a.outerHeight(),d=a.offset().left-m.siteSwitcherButton.offset().left;c.css({top:b,left:d})}function j(a){return $.ajax({type:"GET",url:a,dataType:"html"})}function o(a){var c=$(".js-other-sites li");""==a?c.show():(a=c.filter('*:containsCI("'+a+'")').show(),c.not(a).hide())}function p(){var a=function(){var a=new Date;a.setTime(a.getTime()+1E3*StackExchange.options.serverTimeOffsetSec);
var c=a.getUTCHours(),a=a.getUTCMinutes();10>c&&(c="0"+c);10>a&&(a="0"+a);m.achievements.find(".js-utc-time").text(c+":"+a)};a();setInterval(a,6E4)}var n=["siteSwitcher","inbox","achievements","modInbox","help"],r={},m={corral:null,siteSwitcher:null,siteSwitcherButton:null,inbox:null,inboxButton:null,achievements:null,achievementsButton:null,modInbox:null,modInboxButton:null,help:null,helpButton:null};return{hideAll:g,init:function(){m.corral=$(".js-topbar-dialog-corral");m.siteSwitcherButton=$(".js-site-switcher-button").click(function(){f();
return!1});m.inboxButton=$(".js-inbox-button").click(function(){k("inbox",void 0);return!1});m.achievementsButton=$(".js-achievements-button").click(function(){e();return!1});m.modInboxButton=$(".js-mod-inbox-button").click(function(){h();return!1});m.helpButton=$(".js-help-button").click(function(){l();return!1});m.siteSwitcherButton.attr("href","#");$(document).click(function(a){var c;a:{for(c=0;c<n.length;c++){var b=m[n[c]+"Button"];if(b&&b[0]==a.target){c=!0;break a}}c=!1}!c&&!$.contains(m.corral[0],
a.target)&&g()})}}}();
StackExchange.notify=function(){function g(a,c){var b=$("#dismissed-messages");b.val(b.val()+"~"+a+(c?" "+c:"")+"~")}function f(a,c){var b=$("#dismissed-messages").val();return!b?!1:RegExp("~"+a+(c?" "+c:"")+"~").test(b)}function e(a,c,b){var d=parseInt($("body").css("margin-top").match(/\d+/)),a=c*d/a;b?$("body:not(.no-message-slide)").animate({marginTop:a+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",a+"px")}var b=0,d=function(a,c){var d=$("#notify-"+a+(c?"-"+c:""));-1==
a?$.cookie("m","0",{expires:90,path:"/"}):-1<a&&$.post("/messages/mark-as-read",{messagetypeid:a,id:c?c:null});g(a,c);b--;d.fadeOut("fast",function(){e(b+1,b,!0);d.remove()})},h=function(a){b++;if(f(a.messageTypeId,a.id))return!1;var c="";a.messageTypeId&&(c=' id="notify-'+a.messageTypeId+(a.id?"-"+a.id:"")+'"');c="<div"+c+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+a.text+"</span>";
if(a.showProfile)var i=encodeURIComponent("/users/"+a.userId+"?tab=badges&sort=recent"),c=c+(" "+('See your <a href="'+("/messages/mark-as-read?messagetypeid="+a.messageTypeId+"&returnurl="+i)+'">profile</a>.'));c=$(c+"</div>");c.find(".notify-close").click(function(){a.close&&a.close();d(a.messageTypeId,a.id)});$("#notify-container").append(c);return!0},l=function(){$("#notify-container div").fadeIn("slow")},k=function(a,c){var b=$('<div class="link-more">').append($("<a>").text(function(a){return 1==
a.numNotifications?"view "+a.numNotifications+" more notification":"view "+a.numNotifications+" more notifications"}({numNotifications:a})));$("#notify-container").append(b);b.click(function(){b.detach();for(var a=0;a<c.length;a++)h(c[a]);l()})};return{showMessages:function(a,c){for(var d=0,j=c?2:a.length,f=0;f<j&&f<a.length;f++)h(a[f])&&d++;e(b,d,!1);l();c&&d<a.length&&(j=a.slice(j),k(a.length-d,j))},show:function(a,c){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");
h({text:a,messageTypeId:c});l()},close:d,getMessageText:function(a){return $("#notify-"+a+" .notify-text").text()}}}();function moveScroller(){var g=$("#scroller").width(),f=function(){var e=$(window).scrollTop(),b=$("#scroller-anchor").offset().top,d=$("#scroller");e>b?d.height()>$(window).height()?d.css({position:"fixed",top:"",bottom:"0px",width:g}):d.css({position:"fixed",top:"0px",bottom:"",width:g}):e<=b&&d.css({position:"relative",top:"",bottom:""})};$(window).scroll(f).resize(f);f()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var g=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),g=!0);var f;if(f=!$(this).hasClass("prettyprint")){f=$(this);var e=$("#prettify-lang").text();""!=e?(f.addClass(e),f=!0):f=!1}f&&($(this).addClass("prettyprint"),g=!0)});g&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(g){function f(a,c){var b=$("<div id='"+g.id+"'/>").html(c),j=$("<div />").css({overflow:"hidden",position:"absolute","z-index":1002,width:1,height:1,top:0,left:0}).append(b).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(b.attr("id"));var f=g.showing(a,b),h={left:f.left};f.hasOwnProperty("bottom")?(h.bottom=f.bottom,h.top="auto"):h.top=f.top;var k;g.shown&&(k=function(){g.shown(a,b)});j.css(h).animate({height:b.outerHeight()+8,width:b.outerWidth()+8},
300,k);e=function(){j.stop().remove();g.removed&&g.removed(a,b);e=d=null};d=StackExchange.helpers.DelayedReaction(e,5);h=j;f.additional&&(h=h.add(f.additional));h.hover(d.cancel,d.trigger)}var e,b,d,h,l={},k=StackExchange.helpers.DelayedReaction(function(a,c){if(!h&&a){var b;g.cache&&"c_"+a in l?b=$.Deferred().resolve(l["c_"+a]):(b=$.ajax({type:"GET",url:a,dataType:"html"}),g.cache&&b.done(function(c){l["c_"+a]=c}));b.done(function(a){e&&e();""!=a&&f(c,a)})}},500);$(document).delegate(g.selector,
{mouseenter:function(){if(d&&this===b)d.cancel();else return b=this,k.trigger(g.getUrl(this),this),h=!1},mouseleave:function(){h=!0;k.cancel();d&&d.trigger()}})};
StackExchange.tagmenu=function(){function g(b){var b=$(b),f=b.attr("href");if(!f||"/"!=f.charAt(0))return null;f=b.text();if(-1<f.indexOf("*"))return null;b.attr("title","");return"/tags/"+encodeURIComponent(f)+"/subscriber-info"}function f(b,f){var e=$(b),g=e.offset(),a=e.outerHeight(),e={left:g.left},c=g.top+a,a=g.left+f.outerWidth();f.height()+c>$(window).height()+$(window).scrollTop()?e.bottom=$(window).height()-g.top-8:e.top=c;g=Math.max(1024,$(window).width());a>g&&(e.left-=a-g);return e}var e,
b;return{init:function(d){e=d;b||(b=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag,.no-tag-menu)",id:"tag-menu",getUrl:g,showing:f,shown:function(b,d){e&&e(d,$(b).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function g(d,f){var e=$(d).find("img:first"),g=e.offset(),a=e.height(),c=e.width(),i=Math.max(c,a),j=64*a/i,i=64*c/i,o=f.find("img:first").css({width:i,height:j}),p=o.offset();o.css("visibility","hidden");b=e.clone().css({position:"absolute",zIndex:1003,left:g.left,top:g.top,width:c,height:a}).appendTo("body");var n=function(){o[0].complete?(o.css("visibility","visible"),b.fadeOutAndRemove()):setTimeout(n,500)};b.animate({width:i,height:j,top:g.top+p.top},200,n);
return{top:g.top,left:g.left-p.left,additional:b}}function f(){b.remove()}var e,b;return{init:function(){e||(e=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(b){b=/\/users\/([^/]+).*$/.exec($(b).closest(".user-hover").find(".user-details a").attr("href"));return!b?null:"/users/user-info/"+b[1]},cache:!0,id:"user-menu",showing:g,removed:f}))}}}();
StackExchange.chatAd=function(){function g(){var a=$(".question .post-taglist .post-tag");return!a.length?null:a.map(function(a,c){return $(c).text()}).get().join(" ")}function f(a){return 10>a?"0"+a:a}function e(a){var c=new Date;c.setTime(1E3*a);return[c.getUTCFullYear(),"-",f(c.getUTCMonth()+1),"-",f(c.getUTCDate())," ",f(c.getUTCHours()),":",f(c.getUTCMinutes()),":",f(c.getUTCSeconds()),"Z"].join("")}function b(a){var c=Math.floor((new Date).getTime()/1E3)-a,b=c%60,d=Math.floor(c/60),e=Math.floor(c/
3600);if(1>c)return"just now";if(60>c)return function(a){return 1==a.seconds?a.seconds+" sec ago":a.seconds+" secs ago"}({seconds:b});if(3600>c)return function(a){return 1==a.minutes?a.minutes+" min ago":a.minutes+" mins ago"}({minutes:d});if(86400>c)return function(a){return 1==a.hours?a.hours+" hour ago":a.hours+" hours ago"}({hours:e});c=Math.floor(c/86400);if(1==c)return"yesterday";if(2>=c)return c+" days ago";a=new Date(1E3*a);return function(a){return a.month+" "+a.date+" at "+a.hours+":"+a.minutes}({month:r[a.getMonth()],
date:a.getDate(),hours:a.getHours(),minutes:f(a.getMinutes())})}function d(a){var c=$("<div />");c.text(a);return c.html().replace('"',"&quot;")}function h(){$.get(j,null,function(a,b,d){c(a,b,d)})}function l(a){if("!"==a.charAt(0)){a=a.substr(1);if(/^http:\/\/i.stack.imgur.com\//.test(a))var c=/\?/.test(a)?"&":"?",a=a+(c+"g&s=32");return a}return"https://www.gravatar.com/avatar/"+a+"?s=23&d=identicon&r=PG"}function k(a){for(var c=$('<div class="ad502-users" />'),d=0;d<a.length&&7>d;d++){var f=a[d],
e=f.name;f.lastPost&&(e+=": "+b(f.lastPost));var j=$('<a href="'+(i+"/users/"+f.id)+'" />');$("<img height='23' width='23' />").attr("title",e).attr("src",l(f.emailhash)).appendTo(j);c.append(j)}return c}function a(a){var c=a.user;return(a=a.userid)?'<a href="'+i+"/users/"+a+'">'+d(c)+"</a>":d(c)}function c(c){var f=$("#ad502-rooms");if(!c.error){f.html("");for(var j=c.rooms,g=0;g<j.length&&2>g;g++){var l=j[g],r=i+"/rooms/"+l.id,u=$('<div class="ad502-room"></div>');u.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+
d(l.name)+'"><a href="'+r+'">'+d(l.name)+"</a></span></h3>"));l.messages&&0<l.messages.length&&u.append($('<span title="'+e(l.lastPost)+'" class="ad502-last-message">'+b(l.lastPost)+" - "+a(l.messages[0])+"</span><br>"));l.singleImage?u.append($('<div class="ad502-users"><img src="'+i+"/rooms/users/"+l.id+'.jpeg" /></div>')):u.append(k(l.users));f.append(u)}1<c.activeUsers?$("#h-chat-link").text(c.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",
function(a){return 1==a.users&&1==a.rooms?a.users+" user active in "+a.rooms+" room the last 60 minutes":1==a.users?a.users+" user active in "+a.rooms+" rooms the last 60 minutes":1==a.rooms?a.users+" users active in "+a.rooms+" room the last 60 minutes":a.users+" users active in "+a.rooms+" rooms the last 60 minutes"}({users:c.activeUsers,rooms:c.activeRooms}))}o<=n&&window.setTimeout(h,1E3*o);o+=p}var i,j,o=180,p=30,n=480,r="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");/^\/questions\/\d+/i.test(window.location.pathname)&&
(n=0);return{init:function(a){i=a.chatUrl;j=a.reloadUrl;if(a.tagBased){var b=g();if(!b)return;j+=(/\?/.test(j)?"&":"?")+"tags="+encodeURIComponent(b)}null===a.preloadData?h():c(a.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var g={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105\u0250\u1d44\u1d9b":"a","\u00e6\u01e3\u01fd\u1d02\u1d46":"ae","\u00e7\u0107\u010d\u0109":"c","\u0111\u018d\u00f0\u00d0":"d","\u00e8\u00e9\u00ea\u00eb\u0119\u01dd\u1d08\u1d4c":"e","\u214e":"f","\u011f\u011d\u1d77":"g","\u0125\u0265\u02ae\u1da3":"h","\u00ec\u00ed\u00ee\u00ef\u0131\u1d09\u1d4e":"i","\u0135":"j","\u029e":"k","\u0142":"l","\u026f\u0270\u1d5a\u1dad\u1d1f":"m","\u00f1\u0144":"n","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o",
"\u0153\u0276\u1d14":"oe","\u0159\u0279\u027a\u027b\u02b4\u02b5":"r","\u015b\u015f\u0161\u015d":"s","\u00df":"ss","\u0287":"t","\u00de":"th","\u00f9\u00fa\u00fb\u00fc\u016d\u016f":"u","\u028c\u1dba":"v","\u028d":"w","\u00fd\u0178\u00ff\u028e":"y","\u017c\u017a\u017e":"z"};return function(f){for(var e in g)g.hasOwnProperty(e)&&(f=f.replace(RegExp("["+e+"]","g"),g[e]));return f}}();
function sanitizeAndSplitTags(g,f){for(var g=$.trim(g).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),e=g.split(/[\s|,;]+/),b=[],d=0;d<e.length;d++){var h=e[d].toLowerCase();StackExchange.options.site.nonAsciiTags||(h=StackExchange.helpers.noDiacritics(h));h=h.replace(/_/g,"-");h=h.replace(RegExp("[^a-z0-9.#+"+(f?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,\u00aa,\u00b5,\u00ba,\u00c0-\u00d6,\u00d8-\u00f6,\u00f8-\u02c1,\u02c6-\u02d1,\u02e0-\u02e4,\u02ec,\u02ee,\u0370-\u0374,\u0376-\u0377,\u037a-\u037d,\u0386,\u0388-\u038a,\u038c,\u038e-\u03a1,\u03a3-\u03f5,\u03f7-\u0481,\u048a-\u0523,\u0531-\u0556,\u0559,\u0561-\u0587,\u05d0-\u05ea,\u05f0-\u05f2,\u0621-\u064a,\u0660-\u0669,\u066e-\u066f,\u0671-\u06d3,\u06d5,\u06e5-\u06e6,\u06ee-\u06fc,\u06ff,\u0710,\u0712-\u072f,\u074d-\u07a5,\u07b1,\u07c0-\u07ea,\u07f4-\u07f5,\u07fa,\u0904-\u0939,\u093d,\u0950,\u0958-\u0961,\u0966-\u096f,\u0971-\u0972,\u097b-\u097f,\u0985-\u098c,\u098f-\u0990,\u0993-\u09a8,\u09aa-\u09b0,\u09b2,\u09b6-\u09b9,\u09bd,\u09ce,\u09dc-\u09dd,\u09df-\u09e1,\u09e6-\u09f1,\u0a05-\u0a0a,\u0a0f-\u0a10,\u0a13-\u0a28,\u0a2a-\u0a30,\u0a32-\u0a33,\u0a35-\u0a36,\u0a38-\u0a39,\u0a59-\u0a5c,\u0a5e,\u0a66-\u0a6f,\u0a72-\u0a74,\u0a85-\u0a8d,\u0a8f-\u0a91,\u0a93-\u0aa8,\u0aaa-\u0ab0,\u0ab2-\u0ab3,\u0ab5-\u0ab9,\u0abd,\u0ad0,\u0ae0-\u0ae1,\u0ae6-\u0aef,\u0b05-\u0b0c,\u0b0f-\u0b10,\u0b13-\u0b28,\u0b2a-\u0b30,\u0b32-\u0b33,\u0b35-\u0b39,\u0b3d,\u0b5c-\u0b5d,\u0b5f-\u0b61,\u0b66-\u0b6f,\u0b71,\u0b83,\u0b85-\u0b8a,\u0b8e-\u0b90,\u0b92-\u0b95,\u0b99-\u0b9a,\u0b9c,\u0b9e-\u0b9f,\u0ba3-\u0ba4,\u0ba8-\u0baa,\u0bae-\u0bb9,\u0bd0,\u0be6-\u0bef,\u0c05-\u0c0c,\u0c0e-\u0c10,\u0c12-\u0c28,\u0c2a-\u0c33,\u0c35-\u0c39,\u0c3d,\u0c58-\u0c59,\u0c60-\u0c61,\u0c66-\u0c6f,\u0c85-\u0c8c,\u0c8e-\u0c90,\u0c92-\u0ca8,\u0caa-\u0cb3,\u0cb5-\u0cb9,\u0cbd,\u0cde,\u0ce0-\u0ce1,\u0ce6-\u0cef,\u0d05-\u0d0c,\u0d0e-\u0d10,\u0d12-\u0d28,\u0d2a-\u0d39,\u0d3d,\u0d60-\u0d61,\u0d66-\u0d6f,\u0d7a-\u0d7f,\u0d85-\u0d96,\u0d9a-\u0db1,\u0db3-\u0dbb,\u0dbd,\u0dc0-\u0dc6,\u0e01-\u0e30,\u0e32-\u0e33,\u0e40-\u0e46,\u0e50-\u0e59,\u0e81-\u0e82,\u0e84,\u0e87-\u0e88,\u0e8a,\u0e8d,\u0e94-\u0e97,\u0e99-\u0e9f,\u0ea1-\u0ea3,\u0ea5,\u0ea7,\u0eaa-\u0eab,\u0ead-\u0eb0,\u0eb2-\u0eb3,\u0ebd,\u0ec0-\u0ec4,\u0ec6,\u0ed0-\u0ed9,\u0edc-\u0edd,\u0f00,\u0f20-\u0f29,\u0f40-\u0f47,\u0f49-\u0f6c,\u0f88-\u0f8b,\u1000-\u102a,\u103f-\u1049,\u1050-\u1055,\u105a-\u105d,\u1061,\u1065-\u1066,\u106e-\u1070,\u1075-\u1081,\u108e,\u1090-\u1099,\u10a0-\u10c5,\u10d0-\u10fa,\u10fc,\u1100-\u1159,\u115f-\u11a2,\u11a8-\u11f9,\u1200-\u1248,\u124a-\u124d,\u1250-\u1256,\u1258,\u125a-\u125d,\u1260-\u1288,\u128a-\u128d,\u1290-\u12b0,\u12b2-\u12b5,\u12b8-\u12be,\u12c0,\u12c2-\u12c5,\u12c8-\u12d6,\u12d8-\u1310,\u1312-\u1315,\u1318-\u135a,\u1380-\u138f,\u13a0-\u13f4,\u1401-\u166c,\u166f-\u1676,\u1681-\u169a,\u16a0-\u16ea,\u1700-\u170c,\u170e-\u1711,\u1720-\u1731,\u1740-\u1751,\u1760-\u176c,\u176e-\u1770,\u1780-\u17b3,\u17d7,\u17dc,\u17e0-\u17e9,\u1810-\u1819,\u1820-\u1877,\u1880-\u18a8,\u18aa,\u1900-\u191c,\u1946-\u196d,\u1970-\u1974,\u1980-\u19a9,\u19c1-\u19c7,\u19d0-\u19d9,\u1a00-\u1a16,\u1b05-\u1b33,\u1b45-\u1b4b,\u1b50-\u1b59,\u1b83-\u1ba0,\u1bae-\u1bb9,\u1c00-\u1c23,\u1c40-\u1c49,\u1c4d-\u1c7d,\u1d00-\u1dbf,\u1e00-\u1f15,\u1f18-\u1f1d,\u1f20-\u1f45,\u1f48-\u1f4d,\u1f50-\u1f57,\u1f59,\u1f5b,\u1f5d,\u1f5f-\u1f7d,\u1f80-\u1fb4,\u1fb6-\u1fbc,\u1fbe,\u1fc2-\u1fc4,\u1fc6-\u1fcc,\u1fd0-\u1fd3,\u1fd6-\u1fdb,\u1fe0-\u1fec,\u1ff2-\u1ff4,\u1ff6-\u1ffc,\u203f-\u2040,\u2054,\u2071,\u207f,\u2090-\u2094,\u2102,\u2107,\u210a-\u2113,\u2115,\u2119-\u211d,\u2124,\u2126,\u2128,\u212a-\u212d,\u212f-\u2139,\u213c-\u213f,\u2145-\u2149,\u214e,\u2183-\u2184,\u2c00-\u2c2e,\u2c30-\u2c5e,\u2c60-\u2c6f,\u2c71-\u2c7d,\u2c80-\u2ce4,\u2d00-\u2d25,\u2d30-\u2d65,\u2d6f,\u2d80-\u2d96,\u2da0-\u2da6,\u2da8-\u2dae,\u2db0-\u2db6,\u2db8-\u2dbe,\u2dc0-\u2dc6,\u2dc8-\u2dce,\u2dd0-\u2dd6,\u2dd8-\u2dde,\u2e2f,\u3005-\u3006,\u3031-\u3035,\u303b-\u303c,\u3041-\u3096,\u309d-\u309f,\u30a1-\u30fa,\u30fc-\u30ff,\u3105-\u312d,\u3131-\u318e,\u31a0-\u31b7,\u31f0-\u31ff,\u3400-\u4db5,\u4e00-\u9fc3,\ua000-\ua48c,\ua500-\ua60c,\ua610-\ua62b,\ua640-\ua65f,\ua662-\ua66e,\ua67f-\ua697,\ua717-\ua71f,\ua722-\ua788,\ua78b-\ua78c,\ua7fb-\ua801,\ua803-\ua805,\ua807-\ua80a,\ua80c-\ua822,\ua840-\ua873,\ua882-\ua8b3,\ua8d0-\ua8d9,\ua900-\ua925,\ua930-\ua946,\uaa00-\uaa28,\uaa40-\uaa42,\uaa44-\uaa4b,\uaa50-\uaa59,\uac00-\ud7a3,\uf900-\ufa2d,\ufa30-\ufa6a,\ufa70-\ufad9,\ufb00-\ufb06,\ufb13-\ufb17,\ufb1d,\ufb1f-\ufb28,\ufb2a-\ufb36,\ufb38-\ufb3c,\ufb3e,\ufb40-\ufb41,\ufb43-\ufb44,\ufb46-\ufbb1,\ufbd3-\ufd3d,\ufd50-\ufd8f,\ufd92-\ufdc7,\ufdf0-\ufdfb,\ufe33-\ufe34,\ufe4d-\ufe4f,\ufe70-\ufe74,\ufe76-\ufefc,\uff10-\uff19,\uff21-\uff3a,\uff3f,\uff41-\uff5a,\uff66-\uffbe,\uffc2-\uffc7,\uffca-\uffcf,\uffd2-\uffd7,\uffda-\uffdc":
"")+"-]","g"),"");h=h.replace(/^[#+-]+/,"");h=h.replace(/[.-]+$/,"");0<h.length&&-1==$.inArray(h,b)&&"or"!=h&&"and"!=h&&b.push(h)}return b}
StackExchange.question=function(){function g(){$(window).off("hashchange.highlightDestination").on("hashchange.highlightDestination",function(){var b=window.location.href;0>b.indexOf("#")||(b=b.match(/#(\d+|comment(\d+)_(\d+))/i))&&(b[2]?a(b[2],b[3]):c($(".answer[data-answerid="+b[1]+"]")))}).trigger("hashchange.highlightDestination")}var f=function(a,c,b,d,f,e){return $("<a>",{id:"share-"+d+"-"+a,"class":"share-"+d,title:c?"share link to this question on "+b:"share link to this answer on "+b,text:f,
"data-svc":e})},e=function(a,c){var b=null!=a;a||(a=$("div.question div.post-menu a.short-link"));var d=a.closest(".post-menu, .help-menu");if(a.hasClass("share-link"))d.find(".close-share-tip").click();else{a.addClass("share-link");var e=a.attr("id").substring(10),i=a.closest(".col-section").length?"section":a.closest("div.question").length?"question":"answer",g=a.closest("div.question").length,h="http://"+document.location.host+a.attr("href"),i=("answer"==i?"Answer:":"")+$("#question-header a").text(),
k='<div class="share-tip" style="display:none">'+(g?"share a link to this question":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+h+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(k+=$("<div>",{id:"share-icons"}).append(f(e,g,"Google+","gp","share [g+]",1)).append(f(e,g,"Facebook","fb","share [fb]",2)).append(f(e,g,"Twitter","tw","share [tw]",3)).prop("outerHTML"));StackExchange.gps.track("share.show",{location:g?1:2});var l=$(k+'<a class="close-share-tip" style="float:right">close</a></div>');
StackExchange.options.site.enableSocialMediaInSharePopup&&(h=encodeURIComponent(h),i=encodeURIComponent(i),StackExchange.share.gplus($("#share-gp-"+e,l),h,i,"2"),StackExchange.share.facebook($("#share-fb-"+e,l),h,i,"2"),StackExchange.share.twitter($("#share-tw-"+e,l),h,i,"2"),$("#share-icons a",l).click(function(){l.fadeOutAndRemove();StackExchange.gps.track("share.click",{location:g?1:2,service:$(this).data("svc")})}));c&&l.find(".close-share-tip").before('<a id="link-post-'+e+'" style="float:left">cite</a>');
l.appendTo(d).fadeIn(b?"fast":0).bind("removing",function(){a.removeClass("share-link")}).find(".close-share-tip").click(function(){l.fadeOutAndRemove()}).end().find("input[type=text]").select()}},b=function(a){var c=$("#post-form h2:first"),b=c.wrap("<div />").parent(),d=b.wrap("<div />").parent(),e=$("<div />").prependTo(d),f=d.height(),i=$("<div />"),a=$(a),g=parseInt(c.css("margin-bottom")),h=$("#content"),k=$("#wmd-input").outerWidth(),l=h.offset().left>c.offset().left-5&&"visible"!=h.css("overflow-x");
i.css({height:0,overflowY:"hidden"}).appendTo(b).append(a);d.css({height:f,position:"relative"});b.css({position:"absolute",bottom:-g,width:k});e.addClass("answer-help-background").css({position:"absolute",bottom:-g,height:0,width:k});l&&(e.css("left",0),b.animate({paddingLeft:5},1E3));i.animate({height:a.height()+g+10},1E3);e.animate({height:a.height()+g+10+f},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(b).fadeIn(1E3).find("a").one("click",function(a){var d=
$(this).parent();setTimeout(function(){d.remove()},1);i.animate({height:0},1E3,function(){i.add(e).remove();c.unwrap().unwrap()});e.animate({height:0},1E3);l&&b.animate({paddingLeft:0},1E3);a.preventDefault()})},d=function(){$.get("/posts/answer-help").then(b)},h,l,k,a=function(a,b){var d="#comment-"+a,e=$(d);e.length?c(e):StackExchange.comments.loadAll($("#comments-link-"+b)).done(function(){c($(d))})},c=function(a){var c=k;a.css({backgroundColor:h}).animate({backgroundColor:c},2E3,"linear",function(){$(this).css("background-color",
"")});a.is(".comment")&&a[0].scrollIntoView(!0)},i=function(a){a=a||{};$(".post-menu a.short-link").live("click",function(c){if(!c.ctrlKey&&!c.metaKey)return e($(this),a.showCitation),!1})};return{initTitleSearch:function(a,c,b){var d=document.title,e=0,f,i;a.attr("autocomplete","off");var g=function(g){var h=a.val();if(!(""==h||h==f&&!0!==g||StackExchange.options.site.newTitleSearchBoxEnabled&&0<$(".title-float-selected:visible").length)){for(var k=h.split(" "),l=0,q=0;q<k.length;q++)0<$.trim(k[q]).length&&
l++;k=(new Date).getTime();q=(k-e)/1E3;!0!==g&&(3>l||5>q)&&!a.hasClass("edit-field-overlayed")||(e=k,f=h,b&&(document.title=h?h+" - "+b:d),c.empty(),StackExchange.helpers.addSpinner(c),i&&i.fadeOutAndRemove(),$.ajax({url:"/search/titles",dataType:"json",data:{title:h},success:function(a){if(a){if(a.notification){var b=StackExchange.postValidation.getSidebarPopupOptions();b.type="info";i=StackExchange.helpers.showMessage(c,a.notification,b)}a.content&&(c.html(a.content),setTimeout(function(){c.find(".answer-link a").attr("target",
"_blank")},1))}},complete:function(){StackExchange.helpers.removeSpinner(c)}}))}},h=!1;c.mouseenter(function(){h=!0}).mouseleave(function(){h=!1});a.keyup(g).blur(function(){var a=function(){e=0;g()};if(h)c.one("mouseleave",a);else a()});return function(a){e=0;g(a)}},showShareTip:e,getQuestionId:function(a){a=(a?a.closest(".question"):$(".question")).data("questionid");if(!a)throw Error("getQuestionId could not find an id");return a},initShareLinks:i,canViewVoteCounts:function(){return l},init:function(a){l=
a.canViewVoteCounts;StackExchange.question.fullInit?StackExchange.question.fullInit(a):StackExchange.question.bindAnonymousVoteDisclaimers();StackExchange.comments.init({autoShowCommentHelp:a.autoShowCommentHelp});i(a);if(a.showAnswerHelp)$("#wmd-input").one("focus",d);a.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});k=a.backgroundColor;h=a.highlightColor;g()}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function g(f){var e=$(this),b=e.closest("div.vote"),d=e.prop("className"),g=/vote-up/.test(d),l=/vote-down/.test(d),k=/star/.test(d),d=e.closest(".answer").length;f.preventDefault();if(g||l)if(f=b.find("input").val(),StackExchange.options.isMobile)StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+f+"?voteTypeId="+(g?2:3)),g="Thank you for your feedback.<br />"+(d?function(a){return"Please "+a.startAnchor+"log in or register"+
a.endAnchor+" to vote for this answer."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}):function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to vote for this question."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"})),StackExchange.helpers.showMessage(e,g,{type:"info",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}});else{if(e="anon-vote-popup-"+f,!b.is(":working")&&
!$("."+e).length){b.data("working",!0);$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeMessages();var a=$('<div class="anon-vote-popup popup">Sending feedback&nbsp;</div>').addClass(e).addSpinner();a.appendTo("body").center().fadeIn("fast");$.ajax({type:"POST",url:"/posts/popup/anon-vote/"+f+"?voteTypeId="+(g?2:3),dataType:"html",success:function(c){a.html(c)},error:function(){a.remove()},complete:function(){b.data("working",!1)}})}}else k&&($(".anon-vote-popup").fadeOutAndRemove(),
g=d?function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to favorite this answer."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}):function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to favorite this question."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}),StackExchange.helpers.showMessage(e,g,{type:"info",position:{my:"left top",at:"right center"},
css:{"margin-left":"-10px"}}))}$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var f=$(this);f.data("bound-anonymous")||(f.data("bound-anonymous",!0),f.click(g))});StackExchange.question.bindFetchAcceptedAnswerDates()};
StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var g=$(this);if(!g.is(":working")){g.working(!0);var f=g.closest(".answer").data("answerid");f?$.get("/posts/"+f+"/accepted-answer-date",function(e){g.attr("title",e)}):g.attr("title","")}})};
StackExchange.comments=function(){function g(b,a){this.postId=b;this.jDiv=a;this.jtBody=a.find(" > table > tbody");this.jCommentsLink=$("#comments-link-"+b)}function f(b){var a=(b.constructor===$?b:$(b)).closest(".question, .answer, div[id^='post-']").find(".comments"),b=a.attr("id").replace(/^comments-/,"");if(h[b])return h[b];a=new g(b,a);return h[b]=a}function e(d){var a=$(this),c=0==a.closest(".question, .answer, div[id^='post-']").find(".comments").find(" > table > tbody").data("remaining-comments-count"),
e=!c,g=a.hasClass("disabled-link"),h=a.data("rep");c&&a.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(a,"Commenting requires an account with "+h+" reputation",{type:"info",position:{dimissible:!0,my:"left top",at:"right center"}}):b(a.attr("id").replace("comments-link-","")));c&&a.data("reg")&&StackExchange.helpers.showMessage(a,function(a){return"You must have "+a.linkStart+a.rep+" reputation"+a.linkEnd+" to comment"}({rep:h,linkStart:"<a href='/help/privileges/comment'>",
linkEnd:"</a>"}),{type:"info",position:{dimissible:!0,my:"left top",at:"right center"}});(a.data("anon")||a.data("reg"))&&StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show")});g||(d.preventDefault(),f(this).addShow(e))}function b(b){var a="anon-vote-popup-"+b;if(!$("."+a).length){$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeMessages();var c=$('<div class="anon-vote-popup popup">Loading&nbsp;</div>').addClass(a).addSpinner();c.appendTo("body").center().fadeIn("fast");
$.ajax({type:"POST",url:"/posts/popup/anon-comment/"+b,dataType:"html",success:function(a){c.html(a)},error:function(){c.remove()}})}}function d(){if(0!=$(".question[data-questionid]").length){var b=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var a=$(this),c=a.closest(".answer"),d=c&&c.length?c.data("answerid"):0,c=a.closest(".comment").attr("id").substr(8),d=d?d:b,c="#comment"+c+"_"+d;0<location.href.indexOf("/questions/")?a.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({hash:c})):
a.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({hash:c,pid:d}))})}}var h={},l=function(){};g.prototype={checkDiscussion:l,ensureInput:l,saveEditingComments:l,restoreEditingComments:l,commentsShown:function(){this.jtBody.data("remaining-comments-count",0)},addShow:function(b){var a=this,c=this.loadAllComments().done(function(){a.checkDiscussion()}),d=this.ensureInput();d&&!b&&d.focus();c.done(function(){d&&0<d.length&&a.jCommentsLink.hide()})},ajax:function(b,a,c,d){c&&
!d&&StackExchange.helpers.addSpinner(c,{"margin-left":"10px"});var e=this;return $.ajax(b).fail(function(b){var f=b.responseText;if(!f||0<=f.indexOf("<html"))f="An error occured"+(a?" "+a:"");StackExchange.helpers.showErrorMessage(c||e.jDiv,f,{"transient":409==b.status});c&&!d&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},showComments:function(b,a){this.saveEditingComments(a);this.jtBody.html(b);this.restoreEditingComments();if(!0==this.jDiv.data("localized")){var c=
this.jtBody.data("addlink-html");this.jCommentsLink.html($("<div/>").html(c).text());this.jtBody.data("addlink-disabled")&&!this.jCommentsLink.hasClass("disabled-link")&&this.jCommentsLink.addClass("disabled-link")}else this.jCommentsLink=$("#comments-link-"+this.postId),this.jCommentsLink.is(":visible")&&!a&&(c=$("#hidden-comments-link-"+this.postId).removeClass("dno").attr("id","comments-link-"+this.postId).show(),c.length&&(this.jCommentsLink.replaceWith(c),this.jCommentsLink=c));"undefined"!=
typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);d();this.commentsShown()},loadAllComments:function(b,a){this.jDiv.removeClass("dno");var c=0==this.jtBody.data("remaining-comments-count");if(!b&&c)return $.Deferred().resolve().promise();var d=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments"+(a||""),dataType:"html"},"while fetching comments").done(function(a){d.showComments(a)}).promise()}};return{init:function(b){b=b&&b.post||document;h={};$(b).off("click","a[id^='comments-link-']",
e).on("click","a[id^='comments-link-']",e);b==document&&d()},loadAll:function(b,a){return f(b).loadAllComments(!0,a)},extendPostUi:function(b){for(var a in b)b.hasOwnProperty(a)&&(g.prototype[a]=b[a])},uiForPost:f}}();
StackExchange.share=function(){function g(e,b,d){window.open(e,b,d)||(window.location.href=e)}function f(e,b,d){var b=b+("="+("undefined"!==typeof d?d:"1")),d=e.indexOf("?"),f=e.indexOf("#");return-1==d?-1==f?e+"?"+b:e.substring(0,f)+"?"+b+e.substring(f):-1==f?e+"&"+b:e.substring(0,f)+"&"+b+e.substring(f)}return{gplus:function(e,b,d,h){b=f(b,"sgp",h);e.click(function(){g("https://plus.google.com/share?url="+b,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(e,
b,d,h){b=f(b,"stw",h);e.click(function(){g("http://twitter.com/share?url="+b+"&ref=twitbtn&text="+d,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(e,b,d,h){b=f(b,"sfb",h);e.click(function(){g("http://www.facebook.com/sharer.php?u="+b+"&ref=fbshare&t="+d,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(g,f){window.tagRenderer||(window.tagRendererRaw=function(e,b,d){var b=b||"",d=d||"a",h="";b||(g&&-1<$.inArray(e,g)?h="required-tag":f&&-1<$.inArray(e,f)&&(h="moderator-tag"));h=$("<"+d+">").addClass("post-tag").addClass(h).text(e);"a"===d.toLowerCase()&&h.attr({rel:"tag",href:b+"/questions/tagged/"+encodeURIComponent(e),title:"show questions tagged '"+e+"'"});return h.outerHTML()},window.tagRenderer=function(e,b,d){return $(tagRendererRaw(e,b,d))})}
function showFadingHelpText(g){g.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var g={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title","wmd-input-42":"#how-to-format"},f=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),e=function(b){return $(b).parent().hasClass("tag-editor")?g["tag-editor"]:g[$(b).attr("id")]};f.focus(function(){var b=e(this);f.each(function(){var d=e(this);d!=b&&$(d).hide()});var d=$(b);d.is(":visible")||showFadingHelpText(d)})}
$.fn.extend({postId:function(){var g=this.first();if(!g.hasClass("answer")||!g.hasClass("question"))g=g.closest(".answer, .question");return parseInt(g.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function g(b){b=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append($("<div />",{title:"close this popup (or hit Esc)","class":"popup-close",text:"\ufffd"})).append(b);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");b.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function f(){var b=
StackExchange.options.site.name,b=$(['<div style="text-align: left;"><h2 style="margin-bottom: 15px;">',"Subscribe to the "+b+" weekly newsletter",'</h2><p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">',function(b){return"Create an account on "+b.site+b.endAnchor+" or "+b.loginAnchor+"log in"+b.endAnchor+" if you already have one."}({site:b,loginAnchor:'<a href="/users/login?returnurl=/newsletter/signup/redirect">',endAnchor:"</a>"}),'</strong></p><form><label for="newsletter-email-input">Or, send newsletter emails to:</label> ',
$("<input>",{type:"text",id:"newsletter-email-input",maxlength:"100",title:"your email address"}).prop("outerHTML")," ",$("<input>",{type:"submit",id:"newsletter-email-submit",value:"Subcribe"}).prop("outerHtml"),"</form>",$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));b.find("form").submit(function(){var b=$(this),e=b.find("#newsletter-email-input"),f=b.find("#newsletter-email-submit"),g=$.trim(e.val());if(0==g.length)return!1;StackExchange.helpers.addSpinner(b);
$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:g},success:function(a){"confirmed"==a.status&&!a.error?(e.attr("disabled",!0),f.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):"unconfirmed"==a.status&&!a.error?(e.attr("disabled",!0),f.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),
b.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):b.showErrorMessage(a.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){b.showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},
complete:function(){StackExchange.helpers.removeSpinner(b)}});return!1});g(b)}function e(){var b=window.location.pathname.toLowerCase(),d="unknown";"/"==b?d="homepage":"/questions"==b?d="questionlist":0==b.indexOf("/users/edit")?d="userprofile":0==b.indexOf("/questions/tagged/")?d="questionlist_bytag":/^\/questions\/\d+/.test(b)&&(d="questionpage");return d}return{init:function(){StackExchange.using("gps",function(){StackExchange.gps.track("newsletter.show",{newsletter_type:e()},!0)});$("#newsletter-signup").click(function(){var b=
$(this);if(StackExchange.options.user.isAnonymous)return f(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(d){d.url?window.location.href=d.url:"confirmed"==d.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==d.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):
b.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},error:function(){b.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var b=$(window).height(),b=Math.min(600,b-100),b=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',
b,'px;"><iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',b,'" frameborder="0"></iframe></div>'].join("");g(b);return!1})},loader:function(b,d){var b=d||b,e=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",data:{domain:b},success:function(b){$("#newsletter-ad").remove();e.empty().append($(b))},complete:function(){e.attr("class","").attr("style","")}});d||(window.sessionStorage.tNewsletter=b+"-continued")}}}();
(function(g,f,e,b){var d=!("selectionStart"in g("<input type='text' />")[0]);g.fn.caret=function(g,l){var k,a,c=this[0];if("object"===typeof g&&"number"===typeof g.start&&"number"===typeof g.end)k=g.start,a=g.end;else if("number"===typeof g&&"number"===typeof l)k=g,a=l;else if("string"===typeof g)-1<(k=c.value.indexOf(g))?a=k+g[f]:k=null;else if("[object RegExp]"===Object.prototype.toString.call(g)){var i=g.exec(c.value);null!=i&&(k=i.index,a=k+i[0][f])}if("undefined"!=typeof k)return d?(i=this[0].createTextRange(),
i.collapse(!0),i.moveStart("character",k),i.moveEnd("character",a-k),i.select()):(this[0].selectionStart=k,this[0].selectionEnd=a),this[0].focus(),this;if(d)if(a=document.selection,"textarea"!=this[0].tagName.toLowerCase()){i=this.val();k=a[e]()[b]();k.moveEnd("character",i[f]);var j=""==k.text?i[f]:i.lastIndexOf(k.text);k=a[e]()[b]();k.moveStart("character",-i[f]);var o=k.text[f]}else k=a[e](),a=k[b](),a.moveToElementText(this[0]),a.setEndPoint("EndToEnd",k),j=a.text[f]-k.text[f],o=j+k.text[f];else j=
c.selectionStart,o=c.selectionEnd;k=c.value.substring(j,o);return{start:j,end:o,text:k,replace:function(a){return c.value.substring(0,j)+a+c.value.substring(o,c.value[f])}}}})(jQuery,"length","createRange","duplicate");
StackExchange.captcha=function(){return{init:function(g,f){function e(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var b=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;"><div class="popup-close">',$("<a>",{title:"close this popup (or hit Esc)",text:"\u00d7"}).prop("outerHTML"),"</div>",g,"</div>"].join("")),d=b.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");b.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(e);
$.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{theme:"clean",callback:Recaptcha.focus_response_field});StackExchange.helpers.enableSubmitButton(d);d.submit(function(){StackExchange.helpers.disableSubmitButton(d);d.find('input[type="submit"]').addSpinnerAfter();$.ajax({url:"/captcha",type:"POST",dataType:"json",data:d.serialize(),success:function(b){b.captchaError?(StackExchange.helpers.removeSpinner(),
StackExchange.helpers.enableSubmitButton(d),d.find(".form-error").html(b.captchaError),Recaptcha.reload()):(e(),f(b))},error:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(d);StackExchange.helpers.showErrorMessage(d,"An error occurred submitting the CAPTCHA")}});return!1})})}}}();
StackExchange.gps=function(){function g(){$(".js-gps-track").one("click",function(){var a=$(this),a=$.trim(a.data("event-name")),b={};if(a){for(var d=0;d<this.attributes.length;d++){var f=this.attributes[d];0<=f.name.indexOf("data-event-prop:")&&(b[f.name.substr(16)]=f.value)}e(a,b,!0)}})}function f(){var a;a=localStorage[k];a=!a?[]:JSON.parse(a);if(0<a.length){for(var b=(new Date).getTime(),d=[],e=0;e<a.length;e++){var f=a[e],g=b-f.now;if(0>g||36E5<g||10<e){h(f);return}d.push(f)}0<d.length&&l(d)}}
function e(a,b,e){a={evt:a,properties:b||{},now:(new Date).getTime()};d(a);e||l(a)}function b(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(a,b){d(b)}),delete StackExchange._gps_track)}function d(a){a&&StackExchange.options&&StackExchange.options.user&&(a.properties&&!a.properties.user_type&&(a.properties.user_type=StackExchange.options.user.user_type),!a.ab&&StackExchange.options.user.ab&&(a.ab=StackExchange.options.user.ab));var b=localStorage[k];b?(b=JSON.parse(b),b.push(a),
localStorage[k]=JSON.stringify(b)):localStorage[k]=JSON.stringify([a])}function h(a){var b=localStorage[k];if(b){for(var b=JSON.parse(b),a=JSON.stringify(a),d=-1,e=0;e<b.length;e++){var f=JSON.stringify(b[e]);if(a==f){d=e;break}}-1!=d&&(b.splice(d,1),0==b.length?localStorage.removeItem(k):localStorage[k]=JSON.stringify(b))}}function l(a){$.isArray(a)||(a=[a]);$.ajax({type:"POST",url:"/gps/event",data:JSON.stringify(a),success:function(){for(var b=0;b<a.length;b++)h(a[b])}})}var k="gps-pending",a=
!1;return{init:function(c){if(a)return!0;a=!0;if(!c||!window.localStorage)return StackExchange.gps.track=function(){},delete StackExchange._gps_track,!1;b();f();g();return!0},track:e,sendPending:f}}();
StackExchange.openid=function(){function g(a){a&&StackExchange.gps.track("openid.click",{openid_provider:a,location:l},!0)}function f(a,b){var d=b.find(".option-extra-fields");d.hide();b.find(".yahoo-button").click(function(){d.hide();e(a,"yahoo")});var f=function(f){var g="."+f+"-option";d.show();d.find("> div:not("+g+")").hide();d.find(g+", .extra-field-container").show();b.find(".extra-field").val("").focus();g=b.find(".extra-field-submit");g.unbind("click");g.click(function(){e(a,f,b.find(".extra-field").val())})};
b.find(".blogger-button").click(function(){f("blogger")});b.find(".aol-button").click(function(){f("aol")})}function e(a,b,d){b=k[b];d&&(b=b.replace("{username}",d));a.find(".use-facebook").val("false");a.find(".manual-openid").val(b);a.find(".submit-openid").click()}function b(a){a.find(".use-facebook").val("true");a.find(".manual-openid").val("");a.find(".submit-openid").click()}function d(a){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(a)})}}
function h(a,b,e,f){var g=a.find(".manual-openid").val();a.find(".use-facebook").val();d(function(){var a=$('<form method="post" action="/users/authenticate?returnurl='+encodeURIComponent(b)+'"></form>');if(g){var d=$('<input type="hidden" name="openid_identifier" />');a.append(d);d.val(g)}else{var d=$('<input type="hidden" name="oauth_version" />'),h=$('<input type="hidden" name="oauth_server" />');a.append(d);a.append(h);d.val("2.0");h.val("https://www.facebook.com/dialog/oauth")}a.append("<input type='hidden' name='fkey' value='"+
StackExchange.options.user.fkey+"' />");e&&f&&($('<input type="hidden" name="anon_vote_type" />').val(e).appendTo(a),$('<input type="hidden" name="anon_vote_hash" />').val(f).appendTo(a));StackExchange.navPrevention.stop();a.hide().appendTo("body").submit()})()}var l="unknown",k={yahoo:"http://yahoo.com/",google:"https://www.google.com/accounts/o8/id",aol:"http://openid.aol.com/{username}",blogger:"http://{username}.blogspot.com/"};return{initPostLogin:function(a,c){var i=decodeURIComponent(c);"/questions/ask"===
i&&(l="question_ask");var j=$(a),k=j.find(".new-login-left"),p=j.find(".new-login-right"),n=k.find(".show-more-options");n.click(function(){n.hide();p.show();return!1});p.find(".hide-more-options").click(function(){n.show();p.hide();return!1});j.removeClass("dno");f(j,p);k.find(".google-login").click(function(){g("Google");e(j,"google")});k.find(".facebook-login").click(function(){g("Facebook");b(j)});k.find(".stackexchange-login").click(d(function(){g("Stack Exchange");StackExchange.navPrevention.stop();
window.location="/users/login#create-account"}));j.find(".submit-openid").click(function(){h(j,i)})},initAnonPopup:function(a,c,d,f,k){var p=decodeURIComponent(c);l=d;a.find(".google-login").click(function(){g("Google");e(a,"google")});a.find(".facebook-login").click(function(){g("Facebook");b(a)});a.find(".stackexchange-login").click(function(){g("Stack Exchange");window.location="/users/login#create-account"});a.find(".submit-openid").click(function(){h(a,p,f,k)})}}}();